/* ═══════════════════════════════════════════════════════════════════
   A4 PRINT STYLES - FIXED VERSION
   Ensures proper printing on all devices
   ═══════════════════════════════════════════════════════════════ */

@media print {
    /* ═══ HIDE ALL UI ELEMENTS ═══ */
    .sidebar,
    .action-bar,
    .action-buttons,
    .preview-actions,
    .mobile-header,
    .tab-navigation,
    .no-print,
    button,
    .btn,
    .print-btn {
        display: none !important;
    }

    /* ═══ RESET PAGE STRUCTURE ═══ */
    body {
        margin: 0 !important;
        padding: 0 !important;
        background: white !important;
    }

    html, body {
        width: 210mm !important;
        height: 297mm !important;
        overflow: visible !important;
    }

    /* ═══ FORCE A4 PAGE SIZE ═══ */
    @page {
        size: A4 portrait;
        margin: 0;
    }

    /* ═══ SHOW ONLY PREVIEW CONTENT ═══ */
    .layout,
    .main-content,
    .preview-wrapper,
    #preview-wrapper,
    .mobile-container,
    .tab-container,
    .tab-panel,
    .preview-container,
    .preview-scroll {
        display: block !important;
        margin: 0 !important;
        padding: 0 !important;
        border: none !important;
        box-shadow: none !important;
        background: white !important;
        width: 100% !important;
        max-width: 100% !important;
        overflow: visible !important;
    }

    /* ═══ CRITICAL: SHOW PREVIEW WITH PROPER STYLING ═══ */
    #preview,
    #preview-content,
    .preview-content {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;

        /* A4 Dimensions */
        width: 210mm !important;
        max-width: 210mm !important;
        min-height: 297mm !important;

        /* Proper margins (20mm on all sides) */
        padding: 20mm !important;
        margin: 0 !important;

        /* Reset aspect ratio for print */
        aspect-ratio: unset !important;

        /* Background and borders */
        background: white !important;
        border: none !important;
        box-shadow: none !important;
        border-radius: 0 !important;

        /* Typography */
        font-family: 'Times New Roman', Times, serif !important;
        font-size: 12pt !important;
        line-height: 1.6 !important;
        color: #000 !important;

        /* Ensure content is visible */
        overflow: visible !important;
    }

    /* ═══ PAGE BREAKS ═══ */
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid;
        page-break-inside: avoid;
    }

    table, figure, img {
        page-break-inside: avoid;
    }

    p, li {
        orphans: 3;
        widows: 3;
    }

    /* ═══ PRINT-SPECIFIC FORMATTING ═══ */
    table {
        width: 100%;
        border-collapse: collapse;
        margin: 10pt 0;
    }

    th, td {
        border: 1px solid #000;
        padding: 8pt;
        text-align: left;
    }

    th {
        background-color: #f0f0f0 !important;
        font-weight: bold;
    }

    /* Lists */
    ul, ol {
        margin: 10pt 0;
        padding-left: 20pt;
    }

    li {
        margin: 4pt 0;
    }

    /* Headers */
    h1 { font-size: 18pt; margin: 12pt 0 8pt 0; }
    h2 { font-size: 16pt; margin: 10pt 0 6pt 0; }
    h3 { font-size: 14pt; margin: 8pt 0 4pt 0; }
    h4 { font-size: 12pt; margin: 6pt 0 3pt 0; }

    /* Links */
    a {
        color: #000 !important;
        text-decoration: none !important;
    }

    /* Remove screen-only decorations */
    .no-print,
    [class*="button"],
    [class*="action"],
    [class*="control"] {
        display: none !important;
    }
}

/* ═══════════════════════════════════════════════════════════════════
   SCREEN STYLES (Preview only - not for print)
   ═══════════════════════════════════════════════════════════════ */

@media screen {
    /* These styles apply only on screen, not in print */
    #preview {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border-radius: 4px;
    }
}